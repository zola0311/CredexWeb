<mat-dialog-content class="dialog">
<h1>Havi kimutatás</h1>
<hr />
<div class="searchDiv">
  <form [formGroup]="form">
    <mat-form-field class="field">
      <mat-label>Dátum</mat-label>
      <input
        type="text"
        matInput
        formControlName="date"
        placeholder="Pl: 2023-03"
      />
      <mat-hint>Helyes formátum: éééé-hh</mat-hint>
    </mat-form-field>
    <button
      mat-mini-fab
      color="accent"
      class="searchButton"
      matTooltip="Keresés"
      (click)="search()"
    >
      <mat-icon>search</mat-icon>
    </button>
  </form>
</div>
<hr />
<div id="monthlyStatement" #monthlyStatement>
  <div class="header" style="  width: 100%;
  text-align: center;">
    <h1>Havi kimutatás</h1>
    <h3>Dátum: {{this.form.controls.date.value}}</h3>
  </div>
  <div class="details" style="  width: 100%;
  text-align: center;">
    <table class="detailsTable" style="width: 100%">
      <tr>
        <th colspan="2">Személyes adatok:</th>
      </tr>
      <tr>
        <th>Név:</th>
        <td>{{this.employee?.name}}</td>
      </tr>
      <tr>
        <th>Beosztás:</th>
        <td>{{this.employee?.jobs.name}}</td>
      </tr>
      <tr>
        <th colspan="2">Juttatások:</th>
      </tr>
      <tr *ngFor="let allowance of allowancesOfEmployees">
        <th>{{allowance.allowanceTypes?.name}}:</th>
        <td>{{allowance.value}} Ft</td>
      </tr>
      <tr>
        <th colspan="2">Távolmaradások:</th>
      </tr>
      <tr *ngFor="let absence of absencesOfEmployee">
        <th>{{absence.date}}:</th>
        <td>{{absence.absenceTypes?.name}}</td>
      </tr>
    </table>
  </div>
</div>
</mat-dialog-content>
<mat-dialog-actions>
  <button
    mat-raised-button
    color="accent"
    matTooltip="Letöltés"
    (click)="downloadAsPDF()"
  >
    <mat-icon>cloud_download</mat-icon>
  </button>
  <button
    mat-raised-button
    color="accent"
    mat-dialog-close
    matTooltip="Bezárás"
  >
    <mat-icon>check</mat-icon>
  </button>
</mat-dialog-actions>
